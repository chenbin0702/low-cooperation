import{_ as oe,r as c,a as B,o as se,c as p,n as ne,d as j,e as de,f as e,w as t,E as U,i as s,g,q as re,h as ue,t as i,l as ie}from"./index-bbf05c48.js";const pe={class:"competitor-analysis"},me={class:"card-header"},ge={class:"pagination"},fe={class:"dialog-footer"},ve={class:"detail-section"},ce={class:"detail-section"},_e={class:"detail-section"},be={class:"detail-section"},Ve={__name:"CompetitorAnalysis",setup(we){const y=c(!1),T=c(!1),k=c(!1),h=c(!1),P=c("add"),M=c("basic"),L=c(null),d=c({}),f=B({name:"",field:"",dateRange:[]}),_=B({currentPage:1,pageSize:10,total:0}),o=B({name:"",field:"",scale:"",marketShare:0,competitiveLevel:1,products:"",productAdvantages:"",productDisadvantages:"",targetMarket:"",marketingStrategy:"",pricingStrategy:"",swot:{strengths:"",weaknesses:"",opportunities:"",threats:""},suggestions:"",focusPoints:""}),O=c([]),N={name:[{required:!0,message:"请输入企业名称",trigger:"blur"}],field:[{required:!0,message:"请选择竞争领域",trigger:"change"}],scale:[{required:!0,message:"请选择企业规模",trigger:"change"}],marketShare:[{required:!0,message:"请输入市场份额",trigger:"blur"}]},E=n=>({large:"danger",medium:"warning",small:"info"})[n]||"",R=()=>{w()},F=()=>{Object.keys(f).forEach(n=>{f[n]=""}),f.dateRange=[],R()},I=n=>{_.pageSize=n,w()},G=n=>{_.currentPage=n,w()},q=(n,l=null)=>{P.value=n,k.value=!0,M.value="basic",n==="edit"&&l?Object.assign(o,l):Object.keys(o).forEach(r=>{r==="swot"?o[r]={strengths:"",weaknesses:"",opportunities:"",threats:""}:typeof o[r]=="number"?o[r]=r==="competitiveLevel"?1:0:o[r]=""})},H=n=>{q("edit",n)},J=n=>{d.value=n,h.value=!0},K=n=>{ie.confirm("确定要删除该竞争对手分析吗？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{y.value=!0;try{await new Promise(l=>setTimeout(l,1e3)),U.success("删除成功"),w()}catch{U.error("删除失败")}finally{y.value=!1}})},Q=async()=>{if(L.value)try{await L.value.validate(),T.value=!0,await new Promise(n=>setTimeout(n,1e3)),U.success(P.value==="add"?"添加成功":"更新成功"),k.value=!1,w()}catch{U.error("表单验证失败，请检查必填项")}finally{T.value=!1}},w=async()=>{y.value=!0;try{await new Promise(n=>setTimeout(n,1e3)),O.value=[{name:"竞争对手A",field:"无人机制造",scale:"large",marketShare:25.5,competitiveLevel:3,updateTime:"2024-01-15 14:30:00",products:"工业无人机、消费级无人机",productAdvantages:"技术领先、品牌知名度高",productDisadvantages:"价格较高、售后服务有待改善",targetMarket:"高端工业市场、专业摄影市场",marketingStrategy:"注重品牌建设，强调技术创新",pricingStrategy:"高端定价策略",swot:{strengths:"技术实力强、资金充足",weaknesses:"成本控制能力较弱",opportunities:"市场需求持续增长",threats:"新进入者增多，竞争加剧"},suggestions:"加强成本控制，提升服务质量",focusPoints:"技术创新、市场拓展"},{name:"竞争对手B",field:"航空服务",scale:"medium",marketShare:15.8,competitiveLevel:2,updateTime:"2024-01-14 10:00:00",products:"航拍服务、测绘服务",productAdvantages:"服务灵活、响应速度快",productDisadvantages:"规模较小、覆盖范围有限",targetMarket:"中小企业市场",marketingStrategy:"注重客户关系维护",pricingStrategy:"灵活定价策略",swot:{strengths:"服务质量好、客户关系稳定",weaknesses:"规模较小、资金实力有限",opportunities:"细分市场需求增长",threats:"大型企业进入威胁"},suggestions:"扩大服务范围，提升规模效应",focusPoints:"服务创新、市场细分"}],_.total=20}catch{U.error("加载数据失败")}finally{y.value=!1}};return se(()=>{w()}),(n,l)=>{const r=p("el-input"),u=p("el-form-item"),v=p("el-option"),z=p("el-select"),X=p("el-date-picker"),b=p("el-button"),$=p("el-form"),W=p("el-card"),V=p("el-table-column"),C=p("el-tag"),A=p("el-rate"),Z=p("el-table"),ee=p("el-pagination"),le=p("el-input-number"),S=p("el-tab-pane"),te=p("el-tabs"),Y=p("el-dialog"),m=p("el-descriptions-item"),x=p("el-descriptions"),ae=ne("loading");return j(),de("div",pe,[e(W,{class:"filter-card"},{default:t(()=>[e($,{inline:!0,model:f,class:"search-form"},{default:t(()=>[e(u,{label:"竞争对手"},{default:t(()=>[e(r,{modelValue:f.name,"onUpdate:modelValue":l[0]||(l[0]=a=>f.name=a),placeholder:"请输入竞争对手名称",clearable:""},null,8,["modelValue"])]),_:1}),e(u,{label:"竞争领域"},{default:t(()=>[e(z,{modelValue:f.field,"onUpdate:modelValue":l[1]||(l[1]=a=>f.field=a),placeholder:"请选择",clearable:""},{default:t(()=>[e(v,{label:"无人机制造",value:"manufacture"}),e(v,{label:"航空服务",value:"service"}),e(v,{label:"技术创新",value:"innovation"})]),_:1},8,["modelValue"])]),_:1}),e(u,{label:"更新时间"},{default:t(()=>[e(X,{modelValue:f.dateRange,"onUpdate:modelValue":l[2]||(l[2]=a=>f.dateRange=a),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"YYYY-MM-DD"},null,8,["modelValue"])]),_:1}),e(u,null,{default:t(()=>[e(b,{type:"primary",onClick:R},{default:t(()=>l[28]||(l[28]=[s("搜索")])),_:1}),e(b,{onClick:F},{default:t(()=>l[29]||(l[29]=[s("重置")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(W,{class:"list-card"},{header:t(()=>[g("div",me,[l[31]||(l[31]=g("h2",null,"竞争对手分析",-1)),e(b,{type:"primary",onClick:l[3]||(l[3]=a=>q("add"))},{default:t(()=>l[30]||(l[30]=[s("新增分析")])),_:1})])]),default:t(()=>[re((j(),ue(Z,{data:O.value,style:{width:"100%"}},{default:t(()=>[e(V,{prop:"name",label:"竞争对手","min-width":"180","show-overflow-tooltip":""}),e(V,{prop:"field",label:"竞争领域",width:"120"},{default:t(({row:a})=>[e(C,null,{default:t(()=>[s(i(a.field),1)]),_:2},1024)]),_:1}),e(V,{prop:"scale",label:"企业规模",width:"120"},{default:t(({row:a})=>[e(C,{type:E(a.scale)},{default:t(()=>[s(i(a.scale),1)]),_:2},1032,["type"])]),_:1}),e(V,{prop:"marketShare",label:"市场份额",width:"120"},{default:t(({row:a})=>[s(i(a.marketShare)+"% ",1)]),_:1}),e(V,{prop:"competitiveLevel",label:"竞争程度",width:"120"},{default:t(({row:a})=>[e(A,{modelValue:a.competitiveLevel,"onUpdate:modelValue":D=>a.competitiveLevel=D,disabled:"",max:3},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(V,{prop:"updateTime",label:"更新时间",width:"180",sortable:""}),e(V,{label:"操作",width:"200",fixed:"right"},{default:t(({row:a})=>[e(b,{link:"",type:"primary",onClick:D=>J(a)},{default:t(()=>l[32]||(l[32]=[s("详情")])),_:2},1032,["onClick"]),e(b,{link:"",type:"primary",onClick:D=>H(a)},{default:t(()=>l[33]||(l[33]=[s("编辑")])),_:2},1032,["onClick"]),e(b,{link:"",type:"danger",onClick:D=>K(a)},{default:t(()=>l[34]||(l[34]=[s("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[ae,y.value]]),g("div",ge,[e(ee,{"current-page":_.currentPage,"onUpdate:currentPage":l[4]||(l[4]=a=>_.currentPage=a),"page-size":_.pageSize,"onUpdate:pageSize":l[5]||(l[5]=a=>_.pageSize=a),"page-sizes":[10,20,50,100],total:_.total,layout:"total, sizes, prev, pager, next",onSizeChange:I,onCurrentChange:G},null,8,["current-page","page-size","total"])])]),_:1}),e(Y,{modelValue:k.value,"onUpdate:modelValue":l[25]||(l[25]=a=>k.value=a),title:P.value==="add"?"新增分析":"编辑分析",width:"60%","destroy-on-close":""},{footer:t(()=>[g("span",fe,[e(b,{onClick:l[24]||(l[24]=a=>k.value=!1)},{default:t(()=>l[36]||(l[36]=[s("取消")])),_:1}),e(b,{type:"primary",onClick:Q,loading:T.value},{default:t(()=>l[37]||(l[37]=[s(" 确定 ")])),_:1},8,["loading"])])]),default:t(()=>[e($,{ref_key:"formRef",ref:L,model:o,rules:N,"label-width":"100px"},{default:t(()=>[e(te,{modelValue:M.value,"onUpdate:modelValue":l[23]||(l[23]=a=>M.value=a)},{default:t(()=>[e(S,{label:"基本信息",name:"basic"},{default:t(()=>[e(u,{label:"企业名称",prop:"name"},{default:t(()=>[e(r,{modelValue:o.name,"onUpdate:modelValue":l[6]||(l[6]=a=>o.name=a)},null,8,["modelValue"])]),_:1}),e(u,{label:"竞争领域",prop:"field"},{default:t(()=>[e(z,{modelValue:o.field,"onUpdate:modelValue":l[7]||(l[7]=a=>o.field=a),style:{width:"100%"}},{default:t(()=>[e(v,{label:"无人机制造",value:"manufacture"}),e(v,{label:"航空服务",value:"service"}),e(v,{label:"技术创新",value:"innovation"})]),_:1},8,["modelValue"])]),_:1}),e(u,{label:"企业规模",prop:"scale"},{default:t(()=>[e(z,{modelValue:o.scale,"onUpdate:modelValue":l[8]||(l[8]=a=>o.scale=a),style:{width:"100%"}},{default:t(()=>[e(v,{label:"大型企业",value:"large"}),e(v,{label:"中型企业",value:"medium"}),e(v,{label:"小型企业",value:"small"})]),_:1},8,["modelValue"])]),_:1}),e(u,{label:"市场份额",prop:"marketShare"},{default:t(()=>[e(le,{modelValue:o.marketShare,"onUpdate:modelValue":l[9]||(l[9]=a=>o.marketShare=a),min:0,max:100,precision:2,style:{width:"100%"}},{append:t(()=>l[35]||(l[35]=[s("%")])),_:1},8,["modelValue"])]),_:1}),e(u,{label:"竞争程度",prop:"competitiveLevel"},{default:t(()=>[e(A,{modelValue:o.competitiveLevel,"onUpdate:modelValue":l[10]||(l[10]=a=>o.competitiveLevel=a),max:3,texts:["一般","较强","强"],"show-text":""},null,8,["modelValue"])]),_:1})]),_:1}),e(S,{label:"产品分析",name:"product"},{default:t(()=>[e(u,{label:"主要产品",prop:"products"},{default:t(()=>[e(r,{modelValue:o.products,"onUpdate:modelValue":l[11]||(l[11]=a=>o.products=a),type:"textarea",rows:4,placeholder:"请描述主要产品和服务"},null,8,["modelValue"])]),_:1}),e(u,{label:"产品优势",prop:"productAdvantages"},{default:t(()=>[e(r,{modelValue:o.productAdvantages,"onUpdate:modelValue":l[12]||(l[12]=a=>o.productAdvantages=a),type:"textarea",rows:4,placeholder:"请描述产品优势"},null,8,["modelValue"])]),_:1}),e(u,{label:"产品劣势",prop:"productDisadvantages"},{default:t(()=>[e(r,{modelValue:o.productDisadvantages,"onUpdate:modelValue":l[13]||(l[13]=a=>o.productDisadvantages=a),type:"textarea",rows:4,placeholder:"请描述产品劣势"},null,8,["modelValue"])]),_:1})]),_:1}),e(S,{label:"市场策略",name:"strategy"},{default:t(()=>[e(u,{label:"目标市场",prop:"targetMarket"},{default:t(()=>[e(r,{modelValue:o.targetMarket,"onUpdate:modelValue":l[14]||(l[14]=a=>o.targetMarket=a),type:"textarea",rows:4,placeholder:"请描述目标市场定位"},null,8,["modelValue"])]),_:1}),e(u,{label:"营销策略",prop:"marketingStrategy"},{default:t(()=>[e(r,{modelValue:o.marketingStrategy,"onUpdate:modelValue":l[15]||(l[15]=a=>o.marketingStrategy=a),type:"textarea",rows:4,placeholder:"请描述主要营销策略"},null,8,["modelValue"])]),_:1}),e(u,{label:"价格策略",prop:"pricingStrategy"},{default:t(()=>[e(r,{modelValue:o.pricingStrategy,"onUpdate:modelValue":l[16]||(l[16]=a=>o.pricingStrategy=a),type:"textarea",rows:4,placeholder:"请描述价格策略"},null,8,["modelValue"])]),_:1})]),_:1}),e(S,{label:"SWOT分析",name:"swot"},{default:t(()=>[e(u,{label:"优势(S)",prop:"swot.strengths"},{default:t(()=>[e(r,{modelValue:o.swot.strengths,"onUpdate:modelValue":l[17]||(l[17]=a=>o.swot.strengths=a),type:"textarea",rows:4,placeholder:"请描述企业优势"},null,8,["modelValue"])]),_:1}),e(u,{label:"劣势(W)",prop:"swot.weaknesses"},{default:t(()=>[e(r,{modelValue:o.swot.weaknesses,"onUpdate:modelValue":l[18]||(l[18]=a=>o.swot.weaknesses=a),type:"textarea",rows:4,placeholder:"请描述企业劣势"},null,8,["modelValue"])]),_:1}),e(u,{label:"机会(O)",prop:"swot.opportunities"},{default:t(()=>[e(r,{modelValue:o.swot.opportunities,"onUpdate:modelValue":l[19]||(l[19]=a=>o.swot.opportunities=a),type:"textarea",rows:4,placeholder:"请描述市场机会"},null,8,["modelValue"])]),_:1}),e(u,{label:"威胁(T)",prop:"swot.threats"},{default:t(()=>[e(r,{modelValue:o.swot.threats,"onUpdate:modelValue":l[20]||(l[20]=a=>o.swot.threats=a),type:"textarea",rows:4,placeholder:"请描述面临威胁"},null,8,["modelValue"])]),_:1})]),_:1}),e(S,{label:"应对策略",name:"response"},{default:t(()=>[e(u,{label:"应对建议",prop:"suggestions"},{default:t(()=>[e(r,{modelValue:o.suggestions,"onUpdate:modelValue":l[21]||(l[21]=a=>o.suggestions=a),type:"textarea",rows:6,placeholder:"请输入应对策略建议"},null,8,["modelValue"])]),_:1}),e(u,{label:"重点关注",prop:"focusPoints"},{default:t(()=>[e(r,{modelValue:o.focusPoints,"onUpdate:modelValue":l[22]||(l[22]=a=>o.focusPoints=a),type:"textarea",rows:4,placeholder:"请输入需要重点关注的方面"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),e(Y,{modelValue:h.value,"onUpdate:modelValue":l[27]||(l[27]=a=>h.value=a),title:"竞争对手详情",width:"60%"},{default:t(()=>[e(x,{column:2,border:""},{default:t(()=>[e(m,{label:"企业名称"},{default:t(()=>[s(i(d.value.name),1)]),_:1}),e(m,{label:"竞争领域"},{default:t(()=>[e(C,null,{default:t(()=>[s(i(d.value.field),1)]),_:1})]),_:1}),e(m,{label:"企业规模"},{default:t(()=>[e(C,{type:E(d.value.scale)},{default:t(()=>[s(i(d.value.scale),1)]),_:1},8,["type"])]),_:1}),e(m,{label:"市场份额"},{default:t(()=>[s(i(d.value.marketShare)+"%",1)]),_:1}),e(m,{label:"竞争程度"},{default:t(()=>[e(A,{modelValue:d.value.competitiveLevel,"onUpdate:modelValue":l[26]||(l[26]=a=>d.value.competitiveLevel=a),disabled:"",max:3},null,8,["modelValue"])]),_:1}),e(m,{label:"更新时间"},{default:t(()=>[s(i(d.value.updateTime),1)]),_:1})]),_:1}),g("div",ve,[l[38]||(l[38]=g("h4",null,"产品分析",-1)),e(x,{column:1,border:""},{default:t(()=>[e(m,{label:"主要产品"},{default:t(()=>[s(i(d.value.products),1)]),_:1}),e(m,{label:"产品优势"},{default:t(()=>[s(i(d.value.productAdvantages),1)]),_:1}),e(m,{label:"产品劣势"},{default:t(()=>[s(i(d.value.productDisadvantages),1)]),_:1})]),_:1})]),g("div",ce,[l[39]||(l[39]=g("h4",null,"市场策略",-1)),e(x,{column:1,border:""},{default:t(()=>[e(m,{label:"目标市场"},{default:t(()=>[s(i(d.value.targetMarket),1)]),_:1}),e(m,{label:"营销策略"},{default:t(()=>[s(i(d.value.marketingStrategy),1)]),_:1}),e(m,{label:"价格策略"},{default:t(()=>[s(i(d.value.pricingStrategy),1)]),_:1})]),_:1})]),g("div",_e,[l[40]||(l[40]=g("h4",null,"SWOT分析",-1)),e(x,{column:1,border:""},{default:t(()=>[e(m,{label:"优势(S)"},{default:t(()=>{var a;return[s(i((a=d.value.swot)==null?void 0:a.strengths),1)]}),_:1}),e(m,{label:"劣势(W)"},{default:t(()=>{var a;return[s(i((a=d.value.swot)==null?void 0:a.weaknesses),1)]}),_:1}),e(m,{label:"机会(O)"},{default:t(()=>{var a;return[s(i((a=d.value.swot)==null?void 0:a.opportunities),1)]}),_:1}),e(m,{label:"威胁(T)"},{default:t(()=>{var a;return[s(i((a=d.value.swot)==null?void 0:a.threats),1)]}),_:1})]),_:1})]),g("div",be,[l[41]||(l[41]=g("h4",null,"应对策略",-1)),e(x,{column:1,border:""},{default:t(()=>[e(m,{label:"应对建议"},{default:t(()=>[s(i(d.value.suggestions),1)]),_:1}),e(m,{label:"重点关注"},{default:t(()=>[s(i(d.value.focusPoints),1)]),_:1})]),_:1})])]),_:1},8,["modelValue"])])}}},ke=oe(Ve,[["__scopeId","data-v-dadd1434"]]);export{ke as default};

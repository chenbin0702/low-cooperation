import{_ as J,r as v,a as I,o as K,c as o,n as Q,d as g,e as N,f as e,w as a,E as W,i,g as _,q as X,h as U,t as u,F as Z,p as ee,j as te}from"./index-bbf05c48.js";const ae={class:"logistics-tracking"},le={class:"pagination"},ne={class:"logistics-timeline"},oe={key:0,class:"delivery-info"},se={__name:"LogisticsTracking",setup(ie){const b=v(!1),y=v(!1),r=v({}),s=I({trackingNo:"",orderNo:"",status:"",dateRange:[]}),d=I({currentPage:1,pageSize:10,total:0}),h=v([]),x=n=>({in_transit:"warning",delivered:"success",exception:"danger"})[n]||"info",C=n=>({in_transit:"运输中",delivered:"已签收",exception:"异常"})[n]||n,P=n=>({in_transit:"warning",delivered:"success",exception:"danger"})[n]||"primary",S=()=>{f()},R=()=>{Object.keys(s).forEach(n=>{s[n]=""}),s.dateRange=[],S()},L=n=>{d.pageSize=n,f()},Y=n=>{d.currentPage=n,f()},B=n=>{r.value={...n,tracks:[{time:"2024-01-15 14:30:00",content:"已签收，签收人：张三",status:"delivered"},{time:"2024-01-15 09:30:00",content:"快件已到达【北京朝阳区营业点】",status:"in_transit"},{time:"2024-01-14 20:30:00",content:"快件已从【上海转运中心】发出",status:"in_transit"}],signInfo:{signer:"张三",time:"2024-01-15 14:30:00"}},y.value=!0},f=async()=>{b.value=!0;try{await new Promise(n=>setTimeout(n,1e3)),h.value=[{trackingNo:"SF1234567890",orderNo:"ORD202401150001",company:"顺丰快递",status:"delivered",latestInfo:"已签收，签收人：张三",updateTime:"2024-01-15 14:30:00"},{trackingNo:"YT9876543210",orderNo:"ORD202401140001",company:"圆通快递",status:"in_transit",latestInfo:"快件已到达【北京朝阳区营业点】",updateTime:"2024-01-15 09:30:00"}],d.total=20}catch{W.error("加载数据失败")}finally{b.value=!1}};return K(()=>{f()}),(n,t)=>{const T=o("el-input"),m=o("el-form-item"),k=o("el-option"),E=o("el-select"),F=o("el-date-picker"),V=o("el-button"),O=o("el-form"),z=o("el-card"),p=o("el-table-column"),w=o("el-tag"),j=o("el-table"),q=o("el-pagination"),c=o("el-descriptions-item"),D=o("el-descriptions"),$=o("el-timeline-item"),A=o("el-timeline"),G=o("el-dialog"),H=Q("loading");return g(),N("div",ae,[e(z,{class:"filter-card"},{default:a(()=>[e(O,{inline:!0,model:s,class:"search-form"},{default:a(()=>[e(m,{label:"物流单号"},{default:a(()=>[e(T,{modelValue:s.trackingNo,"onUpdate:modelValue":t[0]||(t[0]=l=>s.trackingNo=l),placeholder:"请输入物流单号",clearable:""},null,8,["modelValue"])]),_:1}),e(m,{label:"订单号"},{default:a(()=>[e(T,{modelValue:s.orderNo,"onUpdate:modelValue":t[1]||(t[1]=l=>s.orderNo=l),placeholder:"请输入订单号",clearable:""},null,8,["modelValue"])]),_:1}),e(m,{label:"物流状态"},{default:a(()=>[e(E,{modelValue:s.status,"onUpdate:modelValue":t[2]||(t[2]=l=>s.status=l),placeholder:"请选择",clearable:""},{default:a(()=>[e(k,{label:"运输中",value:"in_transit"}),e(k,{label:"已签收",value:"delivered"}),e(k,{label:"异常",value:"exception"})]),_:1},8,["modelValue"])]),_:1}),e(m,{label:"发货时间"},{default:a(()=>[e(F,{modelValue:s.dateRange,"onUpdate:modelValue":t[3]||(t[3]=l=>s.dateRange=l),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"YYYY-MM-DD"},null,8,["modelValue"])]),_:1}),e(m,null,{default:a(()=>[e(V,{type:"primary",onClick:S},{default:a(()=>t[7]||(t[7]=[i("搜索")])),_:1}),e(V,{onClick:R},{default:a(()=>t[8]||(t[8]=[i("重置")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(z,{class:"list-card"},{header:a(()=>t[9]||(t[9]=[_("div",{class:"card-header"},[_("h2",null,"物流跟踪")],-1)])),default:a(()=>[X((g(),U(j,{data:h.value,style:{width:"100%"}},{default:a(()=>[e(p,{prop:"trackingNo",label:"物流单号",width:"180"}),e(p,{prop:"orderNo",label:"订单号",width:"180"}),e(p,{prop:"company",label:"物流公司",width:"120"}),e(p,{prop:"status",label:"物流状态",width:"120"},{default:a(({row:l})=>[e(w,{type:x(l.status)},{default:a(()=>[i(u(C(l.status)),1)]),_:2},1032,["type"])]),_:1}),e(p,{prop:"latestInfo",label:"最新物流信息","min-width":"200","show-overflow-tooltip":""}),e(p,{prop:"updateTime",label:"更新时间",width:"180",sortable:""}),e(p,{label:"操作",width:"120",fixed:"right"},{default:a(({row:l})=>[e(V,{link:"",type:"primary",onClick:M=>B(l)},{default:a(()=>t[10]||(t[10]=[i(" 详情 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[H,b.value]]),_("div",le,[e(q,{"current-page":d.currentPage,"onUpdate:currentPage":t[4]||(t[4]=l=>d.currentPage=l),"page-size":d.pageSize,"onUpdate:pageSize":t[5]||(t[5]=l=>d.pageSize=l),"page-sizes":[10,20,50,100],total:d.total,layout:"total, sizes, prev, pager, next",onSizeChange:L,onCurrentChange:Y},null,8,["current-page","page-size","total"])])]),_:1}),e(G,{modelValue:y.value,"onUpdate:modelValue":t[6]||(t[6]=l=>y.value=l),title:"物流详情",width:"600px"},{default:a(()=>[e(D,{column:2,border:""},{default:a(()=>[e(c,{label:"物流单号"},{default:a(()=>[i(u(r.value.trackingNo),1)]),_:1}),e(c,{label:"订单号"},{default:a(()=>[i(u(r.value.orderNo),1)]),_:1}),e(c,{label:"物流公司"},{default:a(()=>[i(u(r.value.company),1)]),_:1}),e(c,{label:"物流状态"},{default:a(()=>[e(w,{type:x(r.value.status)},{default:a(()=>[i(u(C(r.value.status)),1)]),_:1},8,["type"])]),_:1})]),_:1}),_("div",ne,[t[11]||(t[11]=_("h4",null,"物流轨迹",-1)),e(A,null,{default:a(()=>[(g(!0),N(Z,null,ee(r.value.tracks,(l,M)=>(g(),U($,{key:M,type:P(l.status),timestamp:l.time},{default:a(()=>[i(u(l.content),1)]),_:2},1032,["type","timestamp"]))),128))]),_:1})]),r.value.status==="delivered"?(g(),N("div",oe,[t[13]||(t[13]=_("h4",null,"签收信息",-1)),e(D,{column:1,border:""},{default:a(()=>[e(c,{label:"签收人"},{default:a(()=>{var l;return[i(u((l=r.value.signInfo)==null?void 0:l.signer),1)]}),_:1}),e(c,{label:"签收时间"},{default:a(()=>{var l;return[i(u((l=r.value.signInfo)==null?void 0:l.time),1)]}),_:1}),e(c,{label:"签收状态"},{default:a(()=>[e(w,{type:"success"},{default:a(()=>t[12]||(t[12]=[i("已签收")])),_:1})]),_:1})]),_:1})])):te("",!0)]),_:1},8,["modelValue"])])}}},de=J(se,[["__scopeId","data-v-44701a4c"]]);export{de as default};

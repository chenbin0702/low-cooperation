import{_ as Y,a as w,r as T,o as O,c as a,n as j,d as z,e as q,f as e,w as t,E as R,g as l,t as i,i as d,x as F,q as I,h as L}from"./index-bbf05c48.js";const H={class:"commission-view"},J={class:"statistic-value"},K={class:"statistic-trend"},Q={class:"statistic-value"},W={class:"statistic-trend"},X={class:"statistic-value"},Z={class:"statistic-count"},$={class:"card-header"},ee={class:"pagination"},te={__name:"CommissionView",setup(oe){const c=w({totalCommission:"128,560.00",monthGrowth:12.5,monthCommission:"15,280.00",monthProgress:85,pendingCommission:"3,150.00",pendingCount:8}),n=w({dateRange:[],orderNo:"",productType:"",settleStatus:""}),u=w({currentPage:1,pageSize:10,total:0}),C=T([]),v=T(!1),y=()=>{f()},k=()=>{Object.keys(n).forEach(r=>{n[r]=""}),n.dateRange=[],y()},x=r=>{u.pageSize=r,f()},N=r=>{u.currentPage=r,f()},A=()=>{R.success("佣金明细导出成功")},f=async()=>{v.value=!0;try{await new Promise(r=>setTimeout(r,1e3)),C.value=[{orderNo:"ORD202401150001",orderTime:"2024-01-15 14:30:00",productType:"无人机",orderAmount:29999,commissionRate:15,commissionAmount:4499.85,settleStatus:"pending",settleTime:"-"},{orderNo:"ORD202401140001",orderTime:"2024-01-14 10:00:00",productType:"配件",orderAmount:1999,commissionRate:10,commissionAmount:199.9,settleStatus:"settled",settleTime:"2024-01-15 10:00:00"}],u.total=20}catch{R.error("加载数据失败")}finally{v.value=!1}};return O(()=>{f()}),(r,o)=>{const p=a("el-card"),b=a("el-col"),D=a("el-row"),P=a("el-date-picker"),_=a("el-form-item"),U=a("el-input"),g=a("el-option"),S=a("el-select"),h=a("el-button"),B=a("el-form"),m=a("el-table-column"),V=a("el-tag"),E=a("el-table"),G=a("el-pagination"),M=j("loading");return z(),q("div",H,[e(D,{gutter:20,class:"statistics-section"},{default:t(()=>[e(b,{span:8},{default:t(()=>[e(p,{class:"statistic-card"},{default:t(()=>[l("div",J,"¥"+i(c.totalCommission),1),o[7]||(o[7]=l("div",{class:"statistic-label"},"累计佣金总额",-1)),l("div",K,[o[6]||(o[6]=d(" 较上月 ")),l("span",{class:F(c.monthGrowth>=0?"up":"down")},i(c.monthGrowth>=0?"+":"")+i(c.monthGrowth)+"% ",3)])]),_:1})]),_:1}),e(b,{span:8},{default:t(()=>[e(p,{class:"statistic-card"},{default:t(()=>[l("div",Q,"¥"+i(c.monthCommission),1),o[8]||(o[8]=l("div",{class:"statistic-label"},"本月佣金",-1)),l("div",W," 已完成 "+i(c.monthProgress)+"% ",1)]),_:1})]),_:1}),e(b,{span:8},{default:t(()=>[e(p,{class:"statistic-card"},{default:t(()=>[l("div",X,"¥"+i(c.pendingCommission),1),o[9]||(o[9]=l("div",{class:"statistic-label"},"待结算佣金",-1)),l("div",Z,i(c.pendingCount)+" 笔待结算 ",1)]),_:1})]),_:1})]),_:1}),e(p,{class:"filter-card"},{default:t(()=>[e(B,{inline:!0,model:n,class:"search-form"},{default:t(()=>[e(_,{label:"时间范围"},{default:t(()=>[e(P,{modelValue:n.dateRange,"onUpdate:modelValue":o[0]||(o[0]=s=>n.dateRange=s),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"YYYY-MM-DD"},null,8,["modelValue"])]),_:1}),e(_,{label:"订单号"},{default:t(()=>[e(U,{modelValue:n.orderNo,"onUpdate:modelValue":o[1]||(o[1]=s=>n.orderNo=s),placeholder:"请输入订单号",clearable:""},null,8,["modelValue"])]),_:1}),e(_,{label:"产品类型"},{default:t(()=>[e(S,{modelValue:n.productType,"onUpdate:modelValue":o[2]||(o[2]=s=>n.productType=s),placeholder:"请选择",clearable:""},{default:t(()=>[e(g,{label:"无人机",value:"drone"}),e(g,{label:"配件",value:"parts"}),e(g,{label:"服务",value:"service"})]),_:1},8,["modelValue"])]),_:1}),e(_,{label:"结算状态"},{default:t(()=>[e(S,{modelValue:n.settleStatus,"onUpdate:modelValue":o[3]||(o[3]=s=>n.settleStatus=s),placeholder:"请选择",clearable:""},{default:t(()=>[e(g,{label:"待结算",value:"pending"}),e(g,{label:"已结算",value:"settled"})]),_:1},8,["modelValue"])]),_:1}),e(_,null,{default:t(()=>[e(h,{type:"primary",onClick:y},{default:t(()=>o[10]||(o[10]=[d("搜索")])),_:1}),e(h,{onClick:k},{default:t(()=>o[11]||(o[11]=[d("重置")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(p,{class:"list-card"},{header:t(()=>[l("div",$,[o[13]||(o[13]=l("h2",null,"佣金明细",-1)),e(h,{type:"primary",onClick:A},{default:t(()=>o[12]||(o[12]=[d("导出明细")])),_:1})])]),default:t(()=>[I((z(),L(E,{data:C.value,style:{width:"100%"}},{default:t(()=>[e(m,{prop:"orderNo",label:"订单号",width:"180"}),e(m,{prop:"orderTime",label:"订单时间",width:"180",sortable:""}),e(m,{prop:"productType",label:"产品类型",width:"120"},{default:t(({row:s})=>[e(V,null,{default:t(()=>[d(i(s.productType),1)]),_:2},1024)]),_:1}),e(m,{prop:"orderAmount",label:"订单金额",width:"150"},{default:t(({row:s})=>[d(" ¥"+i(s.orderAmount),1)]),_:1}),e(m,{prop:"commissionRate",label:"佣金比例",width:"120"},{default:t(({row:s})=>[d(i(s.commissionRate)+"% ",1)]),_:1}),e(m,{prop:"commissionAmount",label:"佣金金额",width:"150"},{default:t(({row:s})=>[d(" ¥"+i(s.commissionAmount),1)]),_:1}),e(m,{prop:"settleStatus",label:"结算状态",width:"120"},{default:t(({row:s})=>[e(V,{type:s.settleStatus==="settled"?"success":"warning"},{default:t(()=>[d(i(s.settleStatus==="settled"?"已结算":"待结算"),1)]),_:2},1032,["type"])]),_:1}),e(m,{prop:"settleTime",label:"结算时间",width:"180"})]),_:1},8,["data"])),[[M,v.value]]),l("div",ee,[e(G,{"current-page":u.currentPage,"onUpdate:currentPage":o[4]||(o[4]=s=>u.currentPage=s),"page-size":u.pageSize,"onUpdate:pageSize":o[5]||(o[5]=s=>u.pageSize=s),"page-sizes":[10,20,50,100],total:u.total,layout:"total, sizes, prev, pager, next",onSizeChange:x,onCurrentChange:N},null,8,["current-page","page-size","total"])])]),_:1})])}}},ae=Y(te,[["__scopeId","data-v-46067c9b"]]);export{ae as default};
